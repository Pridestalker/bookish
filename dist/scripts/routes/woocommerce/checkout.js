(self.webpackChunk=self.webpackChunk||[]).push([[436],{8616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var r=function(e){e.classList.contains("active")||e.classList.add("active")},o=function(e){e.classList.contains("active")&&e.classList.remove("active")};var i=n(3589),c={BILLING:"checkout-change-billing-country",SHIPPING:"checkout-change-shipping-country"},u=n(3128),s=n(6400),a=n(5697),l=n.n(a),d=n(1302),p=n(3457),f=(0,d.Z)({palette:{primary:{main:"hsl(265, 83%, 45%)"},secondary:{main:"hsl(47, 100%, 68%)"},error:{main:"hsl(357, 100%, 55%)"},success:{main:"hsl(122, 67%, 48%)"}}}),y=function(e){return(0,s.h)(p.Z,{theme:f},(0,s.h)(u.Z,{color:"primary",style:{display:"block"},id:e.isShipping?"autofill_from_postcode_shipping":"autofill_from_postcode_billing",onClick:function(){(0,i.B)(Z.POSTCODE_FILLER.OPEN,{isShipping:e.isShipping})}},"Adres laten invoeren"))};y.propTypes={isShipping:l().bool};var h=function(e,t){e.style.display="NL"===t?"":"none"},m=n(7757),g=n.n(m),b=n(9597),v=n(3442),_=n(9163),O=n(6165);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,o,i,c){try{var u=e[i](c),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    position: absolute;\n    width: 400px;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n\n    background: #ffffff;\n    box-shadow: 0 3px 6px rgba(51, 51, 51, 0.4);\n    padding: 1.5rem 1rem;\n    border-radius: 4px;\n\n    display: flex;\n    flex-direction: column;\n"]);return x=function(){return e},e}var C=_.ZP.div(x()),A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(l,e);var t,n,r,o,c,a=j(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).closeModal=t.closeModal.bind(D(t)),t.resetData=t.resetData.bind(D(t)),t.getUserAddress=t.getUserAddress.bind(D(t)),t.state={isOpen:!1,number:null,postcode:null,loading:!1,isShipping:!1},t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;(0,i.y)(Z.POSTCODE_FILLER.OPEN,(function(t){var n=t.detail;return e.setState({isOpen:!0,isShipping:n.isShipping})}))}},{key:"closeModal",value:function(){this.setState({isOpen:!1})}},{key:"resetData",value:function(){this.setState({postcode:null,number:null})}},{key:"getUserAddress",value:(o=g().mark((function e(){var t,n,r,o,c,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=this.state,n=t.postcode,r=t.number,o=t.isShipping,n&&r&&6===n.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,O.Z.get("/wp-admin/admin-ajax.php",{searchParams:{action:"get_user_shipping_address",number:r,postcode:n}});case 6:return c=e.sent,e.next=9,c.json();case 9:u=e.sent,(0,i.B)(Z.POSTCODE_FILLER.HAS_BEEN_FOUND,P(P({},u.data),{},{number:r,postcode:n,isShipping:o})),this.setState({loading:!1}),this.closeModal(),this.resetData();case 14:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function c(e){L(i,n,r,c,u,"next",e)}function u(e){L(i,n,r,c,u,"throw",e)}c(void 0)}))},function(){return c.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state.isOpen;if(!t)return"";var n=this.state,r=n.postcode,o=n.number,i=n.loading;return(0,s.h)(p.Z,{theme:f},(0,s.h)(b.Z,{open:t,onClose:this.closeModal},(0,s.h)(C,null,(0,s.h)(v.Z,{label:"Postcode",value:r,onChange:function(t){var n=t.target;return e.setState({postcode:n.value.replace(/\s/g,"")})},required:!0,variant:"outlined",style:{marginBottom:".5rem"}}),(0,s.h)(v.Z,{label:"Huisnummer",variant:"outlined",value:o,onChange:function(t){var n=t.target;return e.setState({number:n.value})},required:!0,style:{marginBottom:".5rem"},helperText:"Voer jouw huisnummer in, zonder toevoeging"}),(0,s.h)(u.Z,{onClick:this.getUserAddress,disabled:i,variant:"contained",color:"primary"},"Zoeken"),(0,s.h)(u.Z,{onClick:this.closeModal,disabled:i},"Sluiten"))))}}])&&w(t.prototype,n),r&&w(t,r),l}(s.wA),R=void 0,Z={POSTCODE_FILLER:{START:function(){return R.OPEN},END:function(){return R.CLOSE},CLOSE:"close-postcode-filler",OPEN:"open-postcode-filler",HAS_BEEN_FILLED:"postcode-filler-on-fill",HAS_BEEN_FOUND:"postcode-found"}},T=function(e){var t,n,r,o=e.detail,i=o.city,c=o.number,u=o.postcode,s=o.street;o.isShipping?(t=document.getElementById("shipping_address_1"),n=document.getElementById("shipping_postcode"),r=document.getElementById("shipping_city")):(t=document.getElementById("billing_address_1"),n=document.getElementById("billing_postcode"),r=document.getElementById("billing_city")),t.value="".concat(s," ").concat(c),n.value=u,n.setAttribute("readonly","true"),r.value=i,r.setAttribute("readonly","true")};const F={init:function(){!function(){var e=document.getElementById("billing_address_1_field"),t=document.getElementById("shipping_address_1_field");if(e){(0,s.sY)((0,s.h)(y,{isShipping:!1}),e),t&&(0,s.sY)((0,s.h)(y,{isShipping:!0}),t);var n=document.getElementById("autofill_from_postcode_billing");if(h(n,document.getElementById("billing_country").value),(0,i.y)(c.BILLING,(function(e){var t=e.detail;h(n,t)})),t){var r=document.getElementById("autofill_from_postcode_shipping");h(r,document.getElementById("shipping_country").value),(0,i.y)(c.SHIPPING,(function(e){var t=e.detail;h(r,t)}))}}}(),(0,s.sY)((0,s.h)(A,null),document.body),(0,i.y)(Z.POSTCODE_FILLER.HAS_BEEN_FOUND,T)},finalize:function(){var e,t,n,u,s,a;e=document.getElementById("ship-to-different-address-checkbox"),t=document.querySelector(".shipping_address"),e.addEventListener("input",(function(e){e.target.checked?r(t):o(t)})),n=document.querySelector(".woocommerce-form-login"),u=document.querySelector(".js-login-toggle-button"),n&&u&&u.addEventListener("click",(function(){return n.style.display=""})),function(){var e=document.querySelector("#createaccount"),t=document.querySelector(".create-account");t&&e&&e.addEventListener("click",(function(){return t.style.display=e.checked?"":"none"}))}(),s=document.getElementById("billing_country"),a=document.getElementById("shipping_country"),s&&s.addEventListener("input",(function(e){(0,i.B)(c.BILLING,e.target.value)})),a&&a.addEventListener("input",(function(e){(0,i.B)(c.SHIPPING,e.target.value)}))}}}}]);